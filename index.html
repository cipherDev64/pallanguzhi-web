<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Pallanguzhi — Animated Edition</title>
  <meta name="description" content="Animated, playable web version of Pallanguzhi (Ali Guli Mane)."/>
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml"/>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="appbar">
  <h1>Pallanguzhi <span class="sub">Ali Guli Mane</span></h1>
  <nav class="toolbar">
    <button id="newGame" class="btn primary">New Match</button>
    <button id="showHelp" class="btn">How to Play</button>
    <button id="undo" class="btn" title="Undo">Undo</button>
    <button id="redo" class="btn" title="Redo">Redo</button>
    <label class="switch"><input id="ai" type="checkbox"/><span>AI (B)</span></label>
    <label class="switch"><span>Speed</span>
      <select id="speed">
        <option value="350">Slow</option>
        <option value="220" selected>Normal</option>
        <option value="120">Fast</option>
        <option value="60">Turbo</option>
      </select>
    </label>
  </nav>
</header>

<main class="container">
  <section class="left">
    <div class="panel">
      <div class="row">
        <label>Seeds per pit
          <select id="seeds">
            <option value="4">4</option>
            <option value="5" selected>5</option>
            <option value="6">6</option>
          </select>
        </label>
        <label>Ruleset
          <select id="rules">
            <option value="classic" selected>Classic (empty-on-own capture)</option>
            <option value="southern">Southern (no capture)</option>
          </select>
        </label>
        <label>First player
          <select id="first">
            <option value="A" selected>A (bottom)</option>
            <option value="B">B (top)</option>
          </select>
        </label>
      </div>
      <div class="status">
        <div id="turnBadge" class="badge a">A to move</div>
        <div class="scores">
          <div class="score a">A: <span id="scoreA">0</span></div>
          <div class="score b">B: <span id="scoreB">0</span></div>
        </div>
      </div>
    </div>

    <div class="boardWrap">
      <div id="board" class="board" role="application" aria-label="Pallanguzhi board"></div>
      <div id="flyLayer" class="flyLayer" aria-hidden="true"></div>
      <div class="legend">
        <span class="hint">Click pits on your row • Keyboard: 1–7 • Watch coins animate pit by pit</span>
      </div>
    </div>
  </section>

  <aside class="right">
    <div class="panel help">
      <h2>Quick Start</h2>
      <ol>
        <li>Two rows of 7 pits. Bottom is A, top is B.</li>
        <li>On your turn, click one of your pits to pick and sow seeds counter-clockwise.</li>
        <li>If the last seed lands in a non-empty pit, you keep sowing (relay sow).</li>
        <li>Classic rule: if your last seed lands in an empty pit on your row, capture the opposite pit.</li>
        <li>Game ends when a player has no move. Highest captured wins.</li>
      </ol>
    </div>
  </aside>
</main>

<footer class="footer">
  <small>© Pallanguzhi Web — Animated Edition • MIT • Vercel-ready static site</small>
</footer>

<dialog id="helpDialog">
  <article class="dialog">
    <h3>How to Play Pallanguzhi</h3>
    <ul>
      <li>Pick a pit on <b>your row</b>, sow one by one counter-clockwise.</li>
      <li><b>Relay:</b> land on a non-empty pit → pick up and continue.</li>
      <li><b>Capture (Classic):</b> land on an empty pit on your row → capture opposite pit and end turn.</li>
      <li>No legal move? Remaining seeds go to the opponent.</li>
    </ul>
    <form method="dialog"><button class="btn primary">Got it</button></form>
  </article>
</dialog>

<script src="script.js"></script>
</body>
</html>
