* { box-sizing: border-box; }
:root{
  --bg:#0b0d12; --panel:#121625; --ink:#e9ecf5; --muted:#9aa0b2;
  --accent:#6a5cff; --accent2:#35d49d; --ring:#30364a;
  --pit:#1b2132; --pitHi:#222a3e; --a:#4cc2f1; --b:#ff8a70; --seed:#ffd36e;
}

html,body{
  height:100%; margin:0;
  background:radial-gradient(1200px 680px at 10% -10%,#161a28 0%,var(--bg) 60%);
  color:var(--ink);
  font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

a{ color:var(--accent2); text-decoration:none; }
a:hover{ text-decoration:underline; }

.appbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 18px;
  border-bottom:1px solid var(--ring);
  background:linear-gradient(180deg,#0d111d,#0b0d12);
  position:sticky; top:0; z-index:10;
}
h1{ margin:0; font-size:20px; letter-spacing:.2px; }
.sub{ color:var(--muted); font-weight:500; margin-left:.5rem; }

.toolbar{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.btn, select, label.switch{
  background:var(--panel); color:var(--ink);
  border:1px solid var(--ring); border-radius:10px; padding:8px 12px;
}
.btn{ cursor:pointer; transition:filter .15s ease; }
.btn:hover{ filter:brightness(1.05); }
.btn.primary{ background:var(--accent); border-color:#5a4ef3; }

label.switch{ display:inline-flex; gap:8px; align-items:center; }

.container{
  max-width:1080px; margin:0 auto; padding:16px;
  display:grid; grid-template-columns:1fr 280px; gap:16px;
}
@media (max-width:960px){ .container{ grid-template-columns:1fr } .right{ order:-1 } }

.panel{
  background:var(--panel); border:1px solid var(--ring);
  border-radius:12px; padding:12px;
}
.panel .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

.status{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; }
.badge{
  padding:8px 12px; border-radius:999px; border:1px solid var(--ring);
  background:#141a2a; font-weight:600;
}
.badge.a{ box-shadow:inset 0 0 0 2px rgba(76,194,241,.25); }
.badge.b{ box-shadow:inset 0 0 0 2px rgba(255,138,112,.25); }

.scores{ display:flex; gap:8px; }
.score{
  background:#141a2a; border:1px solid var(--ring);
  padding:6px 10px; border-radius:10px; font-variant-numeric:tabular-nums;
}
.score.a{ border-left:3px solid var(--a); }
.score.b{ border-left:3px solid var(--b); }

.boardWrap{
  background:linear-gradient(180deg,#161c2d,#121625);
  border:1px solid var(--ring); border-radius:14px; padding:14px;
  position:relative; overflow:hidden;
}
.board{ display:grid; gap:12px; }
.row{ display:grid; grid-template-columns:repeat(7,1fr); gap:12px; }

.pit{
  position:relative; min-height:118px;
  background:var(--pit); border:1px solid var(--ring); border-radius:16px;
  display:grid; place-items:center;
  transition:.08s transform,.15s background,.15s box-shadow;
  outline:none;
}
.pit[data-owner="A"]{ box-shadow:inset 0 0 0 2px rgba(76,194,241,.14); }
.pit[data-owner="B"]{ box-shadow:inset 0 0 0 2px rgba(255,138,112,.14); }

.pit.enabled:hover{ background:var(--pitHi); transform:translateY(-1px); }
.pit.enabled:focus-visible{ box-shadow:0 0 0 3px #000, 0 0 0 5px var(--accent); }
.pit.disabled{ opacity:.5; cursor:not-allowed; }

.pit .label{
  position:absolute; top:6px; left:8px; color:var(--muted); font-size:11px;
}
.pit .count{
  position:absolute; bottom:6px; right:8px; color:var(--seed); font-weight:700;
  font-variant-numeric:tabular-nums;
}

.chips{
  display:flex; flex-wrap:wrap; gap:6px; width:86%; justify-content:center;
}
.chip{
  width:16px; height:16px; border-radius:50%;
  background:var(--seed); box-shadow:0 1px 0 #0002;
}

.legend{ margin-top:8px; color:var(--muted); font-size:12px; text-align:center; }

.help h2{ margin:.2rem 0 .6rem; }

.footer{ padding:24px 0; text-align:center; color:var(--muted); }

/* Dialog */
dialog::backdrop{ background:rgba(0,0,0,.5); }
dialog{
  border:1px solid var(--ring); border-radius:12px;
  background:#0f1320; color:var(--ink);
  width:min(720px,92vw); padding:0;
}
.dialog{ padding:14px 16px; }

/* Animation layer for flying coins */
.flyLayer{ position:absolute; inset:0; pointer-events:none; }
.fly{
  position:absolute; width:18px; height:18px; border-radius:50%;
  background:var(--seed); box-shadow:0 2px 6px #0006;
  transform:translate(-50%,-50%);
}

/* Accessibility & focus */
:focus-visible{ outline:none; box-shadow:0 0 0 3px #000, 0 0 0 5px var(--accent); }

/* Utility */
.hidden{ display:none !important; }
